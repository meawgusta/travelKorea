<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/themes/default/jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
        <script src="js/jquery.min.js" type="text/javascript"></script>        
        <link href="css/m-css.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript">
            $(document).on("mobileinit",function(){
                //alert("Hello");
                $.mobile.defaultPageTransition="flow";
            });
        </script>        
        <script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div data-role="page" id="home" class="bg-main">
            <div data-role="header" data-position="fixed">
                <h1 class="page-header">Welcome to mTravel</h1>
            </div> 
            <div data-role="content">                
                <a href="#main-menu"><img src="images/my_logo.png" ></a>
                <a data-role="button" href="#main-menu" 
                   data-transition="slide"
                   data-icon="bars">MAIN MENU</a><!--data-inline="true"-->
            </div> 
            <div data-role="footer" data-position="fixed">
                <h3 class="page-footer">&copy; copyright 2558</h3>               
            </div>
        </div>
        
        <div data-role="page" id="main-menu" class="bg-content">
            <div data-role="header" data-position="fixed"  ><!--data-add-back-btn="true" ใส่ปุ่ม back auto -->
                <h1 class="page-header">Main Menu</h1>
                <a data-role="button" href="" data-rel="back" 
                   data-icon="arrow-l" data-iconpos="notext">Back</a>            <!--data-iconpos:left/right/top-->                
                <a data-role="button" href="" class="ui-btn-right"
                   data-icon="home" data-iconpos="notext">Home</a>
            </div> 
            <div data-role="content">                
                <div data-role="controlgroup" class="page-content">
                    <a href="pageplace.html" data-icon="info" data-role="button">PLACE</a>
                    <a href="pagefood.html" data-icon="star" data-role="button">FOOD</a>
                    <a href="pageshopping.html" data-icon="shop" data-role="button">SHOPPING</a> 
                    <a href="pagewaether.html" data-icon="cloud" data-role="button">WEATHER</a> 
                    <a href="testdb.php" rel="external" data-icon="cloud" data-role="button">PHP</a> 
                    <a href="#list" rel="external" data-icon="cloud" data-role="button">LIST</a> 
                </div>   
                <img>
            </div> 
            <div data-role="footer" data-position="fixed">
                <h3 class="page-footer">&copy; copyright 2558</h3>
                <a href="#about-menu" data-icon="mail" 
                   data-role="button" data-iconpos="notext"
                   class="ui-btn-right" data-rel="dialog"
                   >CONTACT</a> 
            </div>
        </div>
        
        <section data-role="page" id="list">
            <header data-role="header">
                <h2>List</h2>                
            </header>
            <div data-role="content">
                <ul data-role="listview" data-inset="true" id="lvfood">
                    <li><a>Hello</a></li>
                </ul>
                <form class="ui-filterable">
                    <input id="autoc-input" type="search">
                </form>
                <ul data-role="listview" data-filter="true" 
                    data-filter-reveal="true" data-input="#autoc-input"
                    data-inset="true">
                    <li><a>กทม</a></li>
                    <li><a>นนทบุรี</a></li>
                    <li><a>เลย</a></li>
                    <li><a>กระบี่</a></li>
                    <li><a>น่าน</a></li>
                    <li><a>ลพบุรี</a></li>
                    <li><a>นครนายก</a></li>
                </ul>
                
                <div data-role="collapsible-set"><!--กรณีมีหลายlistview-->
                    <div data-role="collapsible">
                        <h2>List</h2>
                        <ul data-role="listview" data-inset="false" data-autodividers="true"><!--data-autodividers="true" set กลุ่มให้กับ listview-->
                            <li data-icon="forward"><a href="">A</a></li>
                            <li data-role="list-divider">***********</li>
                            <li><a href="">B</a></li>
                            <li data-icon="false"><a href="">C</a></li>
                        </ul>
                    </div>

                    <div data-role="collapsible">
                        <h2>List</h2>
                        <ol data-role="listview" data-split-icon="plus"
                            data-filter="true" data-filter-placeholder="Search"><!--data-split-icon="plus"แยก2ลิ้งใน1 li-->
                            <li data-filtertext="">
                                <a href="">
                                    <img src="images/food1.jpg">
                                    <h2>SET A</h2>
                                    <p>Burger</p>  
                                    <p class="ui-li-aside ui-li-count">150</p>
                                </a><!--กดได้ทั้งคู่-->
                                <a href=""></a><!--กดได้ทั้งคู่-->
                            </li>
                            <li>
                                <a href="">
                                    <img src="images/food2.jpg">
                                    <h2>SET B</h2>
                                    <p>French fries</p>
                                    <p class="ui-li-aside ui-li-count">99</p>
                                </a>  
                                <a href=""></a>
                            </li>
                            <li>
                                <a href="">
                                    <img src="images/food3.jpg">
                                    <h2>SET C</h2>
                                    <p>Cola</p>
                                    <p class="ui-li-aside ui-li-count">89</p>                                   
                                </a>
                                <a href=""></a>
                            </li>
                        </ol>                 
                    </div>
                </div>
            </div>
            
        </section>
        
        <div data-role="page" id="about-menu" class="bg-main">
            <div data-role="header" data-position="fixed">
                <h1 class="page-header">HERE IS WE !!!</h1>
            </div> 
            <div data-role="content">                
                <img src="images/about.jpg" class="img-circle"> 
                <h5>S.M. Entertainment Co., Ltd.</h5>
                <h5>521 Apgujung 2 dong Kangnamgu</h5>    
                <h5>Seoul 135112</h5>   
                <h5> South Korea</h5>                   
            </div> 
            <div data-role="footer" data-position="fixed">
                <h3 class="page-footer">&copy; copyright 2558</h3>                
            </div>
        </div>
        <script type="text/javascript">
            
            var Bservice_url = "http://172.18.27.13/baac_services/food_list.php";
            var foods;
            $("#list").on("pageinit", function (){
               $("#lvfood li").remove();
            });
            
            $("#list").on("pagebeforeshow",function(){
                $.getJSON(Bservice_url,function (data){
                    $("#lvfood li").remove();
                    foods = data.items;
                    $.each(foods,function (index,food){
                        //alert(food);
                        $("#lvfood").append("<li><a>"+food.food_name+"</a></li>");//เติมโค้ด html                        
                    });
                    $("#lvfood").listview("refresh");
                });
            });
            //event ตรวจสอบเฉยๆ
            $(document).on("pageinit","#home",function (){
                alert("HOME INIT");
            });
            $(document).on("pagebeforeshow","#home",function (){
                alert("HOME beforeShow");
            });
            $(document).on("pageshow","#home",function (){
                alert("HOME Show");
            });
            $(document).on("pageinit","#about-menu",function (){
                alert("AB INIT");
            });
            $(document).on("pageshow","#about-menu",function (){
                alert("AB SHOW");
            });
        </script>
    </body>
</html>
